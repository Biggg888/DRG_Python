from drg_group.yinchuan_2023.Base import message,intersect,SS_VALID
from drg_group.yinchuan_2023.DRG import MDCK_DRG

def group(record):
  adrg_zd=["E02.x00","E03.100","E03.201","E03.801","E03.802","E03.900","E03.901","E04.000","E04.101","E04.102","E04.200","E04.200x003","E04.900x001","E04.901","E04.902","E04.903","E05.000","E05.001","E05.003","E05.202","E05.203","E05.500","E05.800x005","E05.801","E05.804","E05.805","E05.900x001","E05.905","E06.000","E06.000x003","E06.001","E06.100","E06.100x001","E06.100x002","E06.300","E06.300x005","E06.304","E06.500x002","E06.502","E06.900","E07.800x001","E07.802","E07.901","E15.x00x001","E15.x00x002","E16.000x001","E16.100x001","E16.100x002","E16.101","E16.106","E16.112","E16.200","E16.800x901","E16.801","E20.000","E20.100","E20.801","E20.900","E21.000","E21.001","E21.300","E21.401","E22.000x005","E22.001","E22.100","E22.200","E22.802","E23.000","E23.000x007","E23.000x015","E23.003","E23.004","E23.009","E23.200x003","E23.202","E23.600x001","E23.600x008","E23.602","E23.603","E23.607","E23.608","E23.616","E23.618","E23.701","E24.300","E24.900","E25.004","E26.000","E26.001","E26.800x002","E26.802","E26.803","E26.900","E27.400x006","E27.403","E27.407","E27.800x005","E27.800x010","E27.800x021","E27.801","E27.803","E27.810","E27.901","E30.000","E30.000x003","E30.100","E30.101","E30.103","E30.801","E31.002","E34.300x002","E34.300x003","E34.301","E34.302","E34.500","E34.903","E89.000","E89.001","E89.201","E89.301","Q89.203","Q89.206"]
  adrg_zd1=[]
  adrg_ss=[]
  adrg_ss1=[]
  adrg_ss2=[]
  dept_list=[]
  if True and record.zdList[0] in adrg_zd:
    message('符合KT1入组条件，匹配规则：主诊断匹配')
    
    if MDCK_DRG.KT13_group(record):
      return 'KT13'

    if MDCK_DRG.KT15_group(record):
      return 'KT15'

    return 'KT1'
  else:
    return ''

