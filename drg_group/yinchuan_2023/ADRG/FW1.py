from drg_group.yinchuan_2023.Base import message,intersect,SS_VALID
from drg_group.yinchuan_2023.DRG import MDCF_DRG

def group(record):
  adrg_zd=["E11.501+I79.2*","E13.500x241+I79.2*","I27.001","I27.200x002","I27.200x012","I27.200x015","I27.200x018","I27.200x021","I27.201","I27.202","I28.801","I67.200x003","I67.200x004","I67.203","I70.000x003","I70.000x006","I70.000x008","I70.002","I70.101","I70.200x021","I70.200x031","I70.203","I70.204","I70.209","I70.210","I70.213","I70.214","I70.217","I70.804","I70.900x003","I70.900x004","I70.901","I71.000x002","I71.000x003","I71.000x004","I71.000x005","I71.000x006","I71.000x007","I71.000x008","I71.000x011","I71.000x021","I71.000x028","I71.000x029","I71.001","I71.002","I71.003","I71.004","I71.005","I71.007","I71.100","I71.100x003","I71.200x010","I71.200x014","I71.201","I71.202","I71.203","I71.300","I71.400x002","I71.401","I71.402","I71.600x004","I71.800","I71.901","I72.000x023","I72.000x032","I72.000x321","I72.002","I72.005","I72.006","I72.100x004","I72.200x001","I72.300x006","I72.300x013","I72.300x021","I72.300x032","I72.301","I72.304","I72.400x030","I72.400x110","I72.400x121","I72.401","I72.404","I72.600","I72.800x023","I72.800x051","I72.800x053","I72.800x101","I72.804","I72.900x003","I73.001","I73.100","I73.803","I73.901","I73.903","I74.002","I74.006","I74.101","I74.102","I74.201","I74.202","I74.300x030","I74.300x111","I74.300x131","I74.300x230","I74.300x232","I74.300x320","I74.301","I74.302","I74.305","I74.307","I74.308","I74.500x002","I74.504","I74.800x008","I74.801","I74.807","I77.000x011","I77.000x014","I77.012","I77.013","I77.102","I77.120","I77.125","I77.129","I77.202","I77.203","I77.204","I77.600","I77.600x001","I77.600x004","I77.600x016","I77.603","I77.605","I77.800x002","I77.800x009","I77.800x011","I77.800x020","I77.800x021","I77.800x022","I77.800x024","I77.802","I77.803","M31.600","M31.804","Q28.800x007","S55.000x001","S55.100x001","S55.101","S65.000x001","S65.000x002","S65.100x001","S65.401","S65.501","S85.000","S85.100x002","S85.801","S95.000","T82.401","T82.800x003","T82.800x004","T82.800x005","T82.806","T82.807"]
  adrg_zd1=[]
  adrg_ss=[]
  adrg_ss1=[]
  adrg_ss2=[]
  dept_list=[]
  if True and record.zdList[0] in adrg_zd:
    message('符合FW1入组条件，匹配规则：主诊断匹配')
    
    if MDCF_DRG.FW11_group(record):
      return 'FW11'

    if MDCF_DRG.FW15_group(record):
      return 'FW15'

    return 'FW1'
  else:
    return ''

