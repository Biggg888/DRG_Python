from drg_group.yinchuan_2023.Base import message,intersect,SS_VALID
from drg_group.yinchuan_2023.DRG import MDCN_DRG

def group(record):
  adrg_zd=["A18.115+N74.1*","C52.x00","C56.x00","C56.x00x003","C57.000x002","C79.600","D06.900","D25.000","D25.100x001","D25.200","D25.200x002","D25.900","D25.900x001","D26.100x002","D27.x00","D28.200x002","D28.200x003","D39.100x003","D39.101","D39.200x001","N70.000","N70.001","N70.100","N70.101","N70.103","N70.104","N70.900x003","N70.900x007","N70.902","N70.904","N70.905","N73.101","N73.400","N73.602","N73.603","N73.604","N73.606","N73.801","N73.902","N73.903","N80.000","N80.001","N80.100","N80.100x001","N80.200","N80.302","N80.900","N81.101","N81.202","N81.400","N83.000","N83.001","N83.100","N83.100x002","N83.100x003","N83.101","N83.102","N83.201","N83.203","N83.204","N83.205","N83.500x004","N83.501","N83.502","N83.503","N83.800x017","N83.805","N83.809","N83.810","N83.902","N84.001","N85.000","N85.001","N85.101","N85.811","N87.101","N87.901","N93.901","N94.806","N95.100","N97.100x001","N97.100x003","N97.901","N97.902","N99.800x010","Q50.401","Q50.503","Q51.203","Q52.800x004","T83.303","Z31.000x001"]
  adrg_zd1=[]
  adrg_ss=["65.0100x002","65.0100x003","65.0101","65.0103","65.0105","65.0900x004","65.0903","65.0905","65.1201","65.1300","65.2200","65.2400","65.2500x003","65.2500x005","65.2500x011","65.2501","65.2502","65.2503","65.2505","65.2900x007","65.2900x011","65.2901","65.2902","65.2904","65.2905","65.2906","65.3100","65.3900x001","65.4100","65.4900x001","65.5100","65.5300","65.6100","65.6300","65.6301","65.6400","65.7400","65.7900x008","65.7900x009","65.7900x010","65.7901","65.7904","65.7905","65.8101","65.8102","65.8900x001","65.9300","65.9500","65.9901","65.9902","66.0100x003","66.0100x005","66.0101","66.0200","66.0202","66.1101","66.2200x001","66.2901","66.2903","66.3900x001","66.4x00","66.4x02","66.5100","66.5101","66.5102","66.6100x003","66.6100x006","66.6100x007","66.6100x011","66.6100x012","66.6102","66.6103","66.6104","66.6301","66.6901","66.6902","66.7100x002","66.7300","66.7301","66.7900x004","66.7900x009","66.7901","66.7904","66.7905","66.7906","66.8x01","66.8x02","66.8x03","66.9100x003","66.9203","66.9204","66.9500x001","66.9900"]
  adrg_ss1=[]
  adrg_ss2=[]
  dept_list=[]
  if True and record.zdList[0] in adrg_zd and record.ssList and record.ssList[0] in adrg_ss and record.ssList and intersect(record.ssList,adrg_ss):
    message('符合ND1入组条件，匹配规则：主诊断匹配、主手术匹配、某一手术匹配')
    
    if MDCN_DRG.ND19_group(record):
      return 'ND19'

    return 'ND1'
  else:
    return ''

